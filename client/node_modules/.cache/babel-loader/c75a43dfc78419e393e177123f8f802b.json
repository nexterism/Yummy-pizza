{"ast":null,"code":"import _slicedToArray from \"/Volumes/Disk D/work/Yummy Pizza/Yummy Pizza/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Volumes/Disk D/work/Yummy Pizza/Yummy Pizza/client/src/components/views/Menu/Menu.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { Icon, Col, Card, Row } from \"antd\";\nimport ImageSlider from \"../../utils/ImageSlider\";\nimport SearchFeature from \"./Sections/SearchFeature\";\nimport \"./Sections/Menu.css\";\nconst Meta = Card.Meta;\n\nfunction LandingPage() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        Products = _useState2[0],\n        setProducts = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        Skip = _useState4[0],\n        setSkip = _useState4[1];\n\n  const _useState5 = useState(8),\n        _useState6 = _slicedToArray(_useState5, 2),\n        Limit = _useState6[0],\n        setLimit = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        PostSize = _useState8[0],\n        setPostSize = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        SearchTerms = _useState10[0],\n        setSearchTerms = _useState10[1];\n\n  const _useState11 = useState({\n    continents: [],\n    price: []\n  }),\n        _useState12 = _slicedToArray(_useState11, 2),\n        Filters = _useState12[0],\n        setFilters = _useState12[1];\n\n  useEffect(() => {\n    const variables = {\n      skip: Skip,\n      limit: Limit\n    };\n    getProducts(variables);\n  }, []);\n\n  const getProducts = variables => {\n    Axios.post(\"/api/product/getProducts\", variables).then(response => {\n      if (response.data.success) {\n        if (variables.loadMore) {\n          setProducts([...Products, ...response.data.products]);\n        } else {\n          setProducts(response.data.products);\n        }\n\n        setPostSize(response.data.postSize);\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  };\n\n  const onLoadMore = () => {\n    let skip = Skip + Limit;\n    const variables = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n      filters: Filters,\n      searchTerm: SearchTerms\n    };\n    getProducts(variables);\n    setSkip(skip);\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return React.createElement(Col, {\n      className: \"col_sec\",\n      lg: 6,\n      md: 8,\n      xs: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        padding: \"20px\",\n        backgroundColor: \"transparent\",\n        border: \"0px\",\n        textAlign: \"center\"\n      },\n      hoverable: true,\n      cover: React.createElement(\"a\", {\n        href: \"/product/\".concat(product._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \" \", React.createElement(ImageSlider, {\n        images: product.images,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Meta, {\n      title: product.title,\n      description: \"$\".concat(product.price),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })));\n  });\n\n  const updateSearchTerms = newSearchTerm => {\n    const variables = {\n      skip: 0,\n      limit: Limit,\n      filters: Filters,\n      searchTerm: newSearchTerm\n    };\n    setSkip(0);\n    setSearchTerms(newSearchTerm);\n    getProducts(variables);\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      // margin: \"3rem auto\",\n      position: \"relative\",\n      top: \"150px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"tname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \" \", \"Yummy Pizza \", React.createElement(Icon, {\n    type: \"HeartOutlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), \" \")), React.createElement(\"div\", {\n    className: \"col_ser\",\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      margin: \"1rem auto\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(SearchFeature, {\n    refreshFunction: updateSearchTerms,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), Products.length === 0 ? React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      height: \"300px\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"No post yet...\")) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(Row, {\n    gutter: [16, 16],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, renderCards)), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), PostSize >= Limit && React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: onLoadMore,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Load More\")));\n}\n\nexport default LandingPage;","map":{"version":3,"sources":["/Volumes/Disk D/work/Yummy Pizza/Yummy Pizza/client/src/components/views/Menu/Menu.js"],"names":["React","useEffect","useState","Axios","Icon","Col","Card","Row","ImageSlider","SearchFeature","Meta","LandingPage","Products","setProducts","Skip","setSkip","Limit","setLimit","PostSize","setPostSize","SearchTerms","setSearchTerms","continents","price","Filters","setFilters","variables","skip","limit","getProducts","post","then","response","data","success","loadMore","products","postSize","alert","onLoadMore","filters","searchTerm","renderCards","map","product","index","padding","backgroundColor","border","textAlign","_id","images","title","updateSearchTerms","newSearchTerm","width","position","top","display","justifyContent","margin","length","height","alignItems"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { Icon, Col, Card, Row } from \"antd\";\nimport ImageSlider from \"../../utils/ImageSlider\";\n\nimport SearchFeature from \"./Sections/SearchFeature\";\nimport \"./Sections/Menu.css\";\n\nconst { Meta } = Card;\n\nfunction LandingPage() {\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [Limit, setLimit] = useState(8);\n  const [PostSize, setPostSize] = useState();\n  const [SearchTerms, setSearchTerms] = useState(\"\");\n\n  const [Filters, setFilters] = useState({\n    continents: [],\n    price: [],\n  });\n\n  useEffect(() => {\n    const variables = {\n      skip: Skip,\n      limit: Limit,\n    };\n\n    getProducts(variables);\n  }, []);\n\n  const getProducts = (variables) => {\n    Axios.post(\"/api/product/getProducts\", variables).then((response) => {\n      if (response.data.success) {\n        if (variables.loadMore) {\n          setProducts([...Products, ...response.data.products]);\n        } else {\n          setProducts(response.data.products);\n        }\n        setPostSize(response.data.postSize);\n      } else {\n        alert(\"Failed to fectch product datas\");\n      }\n    });\n  };\n\n  const onLoadMore = () => {\n    let skip = Skip + Limit;\n\n    const variables = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n      filters: Filters,\n      searchTerm: SearchTerms,\n    };\n    getProducts(variables);\n    setSkip(skip);\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return (\n      <Col className=\"col_sec\" lg={6} md={8} xs={24}>\n        <Card\n          style={{\n            padding: \"20px\",\n            backgroundColor: \"transparent\",\n            border: \"0px\",\n            textAlign: \"center\",\n          }}\n          hoverable={true}\n          cover={\n            <a href={`/product/${product._id}`}>\n              {\" \"}\n              <ImageSlider images={product.images} />\n            </a>\n          }\n        >\n          <Meta title={product.title} description={`$${product.price}`} />\n        </Card>\n      </Col>\n    );\n  });\n\n  const updateSearchTerms = (newSearchTerm) => {\n    const variables = {\n      skip: 0,\n      limit: Limit,\n      filters: Filters,\n      searchTerm: newSearchTerm,\n    };\n\n    setSkip(0);\n    setSearchTerms(newSearchTerm);\n\n    getProducts(variables);\n  };\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        // margin: \"3rem auto\",\n        position: \"relative\",\n        top: \"150px\",\n      }}\n    >\n      <div\n        style={{\n          textAlign: \"center\",\n        }}\n      >\n        <h2 className=\"tname\">\n          {\" \"}\n          Yummy Pizza <Icon type=\"HeartOutlined\" />{\" \"}\n        </h2>\n      </div>\n\n      {/* Filter  */}\n\n      {/* <Row gutter={[16, 16]}>\n        <Col lg={12} xs={24}>\n          <CheckBox\n            list={continents}\n            handleFilters={(filters) => handleFilters(filters, \"continents\")}\n          />\n        </Col>\n        <Col lg={12} xs={24}>\n          <RadioBox\n            list={price}\n            handleFilters={(filters) => handleFilters(filters, \"price\")}\n          />\n        </Col>\n      </Row> */}\n\n      {/* Search  */}\n      <div\n        className=\"col_ser\"\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          margin: \"1rem auto\",\n        }}\n      >\n        <SearchFeature refreshFunction={updateSearchTerms} />\n      </div>\n\n      {Products.length === 0 ? (\n        <div\n          style={{\n            display: \"flex\",\n            height: \"300px\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <h2>No post yet...</h2>\n        </div>\n      ) : (\n        <div>\n          <Row gutter={[16, 16]}>{renderCards}</Row>\n        </div>\n      )}\n      <br />\n      <br />\n\n      {PostSize >= Limit && (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <button onClick={onLoadMore}>Load More</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}